@import "compass/utilities/general/float";
@import "compass/utilities/general/clearfix";
@import "compass/utilities/lists";
@import "compass/css3/text-shadow";
@import "compass/css3/border-radius";
@import "compass/css3/box-shadow";
@import "compass/utilities/general/min";
@import "compass/utilities/lists/bullets";
@import "compass/utilities/text/replacement";
@import "compass/css3/text-shadow";

@import "cleanslate";
@import "cleanslate-proprietary";

$mn-nav-width: 950px;
$mn-nav-element-spacing: 10px;
$mn-body-bg: #D5E6F4;
$mn-blue: #378CD4;
$mn-gray: #E4E4E4;
$mn-dark-gray: #606060;

@mixin mn-center-aligned {
  width: $mn-nav-width;
  margin: 0px auto;
}

@mixin mn-two-level-hover-menu {
  @include horizontal-list-container;
  > li { @include horizontal-list-item; }
  > li > a { display: block; }
  > li > ul {
    @include box-shadow(#BBB, 0, 2px);
    @include min-width(150px);
    @include no-bullets;
    
    display: none;
    padding: 5px;
    position: absolute;
    background: white;
    
    a { color: $mn-blue; }
  }
  > li:hover > ul { display: block; }
}

@mixin mn-gray-gradient {
  background: $mn-gray url(/images/moz_nav/gray-grad.jpg) repeat-x top;
}

@mixin mn-gray-rounded-bar {
  @include mn-gray-gradient;
  @include border-radius(5px);
  @include box-shadow(#BBB, 0, 1px, 1px);
  border: 1px solid darken($mn-gray, 15%);
}

body { background-color: $mn-body-bg; margin: 0; }

#moz-nav-footer, #moz-nav-header {
  @include mn-cleanslate;
/*  @include mn-cleanslate-proprietary; -- Still not sure what this proprietary thing is doing */
  
  font-family: "Arial", "sans-serif";
  font-size: 12px;
}

#moz-nav-header {
  
  /*Top section of the page includes the logo and user links section*/
  .oversight {
    @include clearfix;
    @include mn-center-aligned;
    height: 30px;
    padding-top: $mn-nav-element-spacing*2;
    
    a.logo { 
      @include float-left;
      width: 50%;
    }
    
    div.user-links { 
      @include float-right;
      font-size: 90%;
      width: 50%;
      padding-top: 6px;
      
      > ul { 
        @include mn-two-level-hover-menu;
        @include float-right;
        @include clearfix;
        padding: 7px 10px;
        
        > li { padding-left: 10px; }        
        > li.extended {
          background: transparent url(/images/moz_nav/dropdown-arrow.png) no-repeat center right;
          padding-right: 14px;
        }
      }
    }
    
  }
  
  /*Wrapper for all page-specific items*/
  .page-specifics {
    @include mn-center-aligned;
  }
  
  /*Main nabigation section for top tabs and site search*/
  .navigation {
    @include clearfix;
    @include mn-center-aligned;
  
    > ul {
      @include float-left;
      @include mn-two-level-hover-menu;
    }
    
    form.search {
      @include float-right;
      legend { display: none; }
      
      input[type=submit] { padding: 3px; }
      input[type=text] {
        background: white;
        border-right: none;
        padding: 3px;
      }
    }
    
  }
  
  /*Section with the page title (blue) and supporting objects*/
  .page-header {
    @include text-shadow(darken($mn-blue, 20%));
    margin-top: $mn-nav-element-spacing;
    
    background: $mn-blue url(/images/moz_nav/blue_header_bg.png) repeat-x top;
    border: 1px solid darken($mn-blue, 15%);
    border-bottom: none;
    color: white;
    padding: 20px;
    
    h1 { font-size: 200%; margin-bottom: 0.5em; };
    ul { display: none; }
  }

  /*Subnav bubbles*/
  ul.subnav {
    @include horizontal-list;
    @include mn-gray-gradient;

    border: 1px solid darken($mn-gray, 15%);
    border-top: none;
    font-size: 110%;
    padding-left: 15px;
    
    li {
      a {
        @include border-radius(5px);
        margin: 10px 0;
        padding: 5px;
        display: block;
        color: $mn-dark-gray;
        text-decoration: none;
        
        &:hover { background: darken($mn-gray, 5%);}
        &:first-child a { padding-left: 0; }
      }
      
      &.active { font-weight: bold; }
    }
  }

  /*Sub-subnav*/
  ul.sub-subnav {
    @include horizontal-list;
    background: #FFF;
    border-left: 1px solid darken($mn-gray, 15%);
    border-right: 1px solid darken($mn-gray, 15%);
    padding-left: 20px;
    
    li { 
      margin: 15px 0 15px 8px;
      padding-left: 8px;
      border-left: 1px solid $mn-gray;
      
      &:first-child { padding-left: none; border-left: none; margin-left: 0; }
      a { color: $mn-blue; }
      &.active a { background: lighten($mn-blue, 35%); padding: 3px; }
    }
  }
}